\section{Introduction to Luks' Algorithm}
\subsection{Definitions}
The following defintions come directly from \cite{luks1982}
\begin{definition}
    A subset $G$ of $\Sym(A)$ is said to \textit{stabilize} $B\subseteq A$ if for all $\sigma\in G$, $\sigma(B)=B$. In such a case, we call the set $G_B=\{\sigma\in G:\sigma(B)=B\}$ the \textit{stabilizer} of $B$ in $G$. 
\end{definition}
\begin{definition}
    If $G\subseteq\Sym(A)$ acts on $B\subseteq A$ and there exist $b\in B$ such that $B=\{\sigma(b):\sigma\in G\}$, we say $G$ acts \textit{transitively} on $B$.
\end{definition}
\begin{definition}
    If $G\subseteq\Sym(A)$ acts transitively on $A$, $B$ is a nonempty proper subset of $A$, and for all $\sigma,\tau\in G$, $\sigma(B)=\tau(B)$ or $\sigma(B)\cap\tau(B)=\emptyset$, then we say $B$ is a $G$-\textit{block}.
\end{definition}
\begin{remark}
    An alternate but equivalent definition for a $G$-block is that $B$ is a $G$-block if for all $\sigma\in G$, $\sigma(B)=B$ or $\sigma(B)\cap B=\emptyset$.
\end{remark}
\begin{definition}
    If $B$ is a $G$-block, we call $\{\sigma(B):\sigma\in G\}$ a $G$-\textit{block system in} $A$.
\end{definition}
\begin{remark}
    Given a $G$-block system, $G$ acts transitvely on the blocks of the system.
\end{remark}
\begin{definition}
    If there are no $G$-blocks in a $G$-block system in $A$ of size $>1$, we say $G$ acts \textit{primitvely} on $A$
\end{definition}
\begin{definition}
    A $G$-block system is \textit{minimal} if $G$ acts primitvely on the blocks.
\end{definition}
\begin{remark}
    It is the number of blocks that is minimal.
\end{remark}
\begin{proposition}
    If for a finite set $A$, $G\subseteq\Sym(A)$ acts transitively on $A$ and $B$ is a $G$-block on $A$ containing the element $a$ in $A$, then $G_B$ defined by $G_{B}=\{\sigma\in G:\sigma(B)=B\}$ is a subgroup of $G$ containing the stabilizer of $a$ in $G$, $G_a=\{\sigma\in G:\sigma(a)=a\}$.\cite[117]{dummit2004abstract}
\end{proposition}
\begin{proof}
Let $\sigma,\tau\in G_B$. Observe,
\begin{align*}
    (\sigma\tau^{-1})(B)&=\sigma(\tau^{-1}(B))=\sigma(\tau^{-1}(\tau(B)))\\
    &=\sigma((\tau^{-1}\tau)(B))=\sigma(B)=B.
\end{align*}
Thus, $G_B\le G$. Let $\gamma\in G_a$. Since $B$ is a $G$-block on $A$, $\gamma(B)=B$ or $\gamma(B)\cap B=\emptyset$. Since $\gamma(a)=a$ and $a\in B$, we know $\gamma(B)=B$. Hence, $G_a\subseteq G_B$.
\end{proof}
\begin{proposition}\label{prop:prop42}
    For any finite set $A$ where $G\subseteq\Sym(A)$ acts transitively on $A$, $G$ is primitive on $A$ if and only if for all $a\in A$, $G_a$ is a maximal subgroup of $G$ \cite[117]{dummit2004abstract}.  
\end{proposition}
\begin{proof}
    $\Rightarrow$\\Let $a\in A$. Suppose $G_a\subseteq H\subseteq G$. Consider $B=\{ha:h\in H\}$. We show that $B$ is a $G$-block on $A$. Let $\sigma\in G$. Note $\sigma(B)=\{\sigma(ha):h\in H\}$ and suppose there exist $b\in \sigma(B)\cap B$. Then there exist $h_1,h_2\in H$ such that $h_1a=b$ and $\sigma(h_2a)=b$. Hence, $a=h_1^{-1}(\sigma(h_2a))$, but then $h_1^{-1}\sigma h_2\in G_a\subseteq H$. Observe, $\sigma=h_1h_1^{-1}\sigma h_2h_2^{-1}\in H$. Therefore, $\sigma(B)=B$, which means $B$ is a $G$-block. Since $G$ acts primitively on $A$, either $B=\{a\}$ or $B=A$. If $B=\{a\}$, then $H\subseteq G_a$, so $H=G_a$. On the other hand, suppose $B=A$. Let $g\in G$. Since $B=A$, there exist $h\in H$ such that $ga=ha$. We have $h^{-1}ga=a$, which means $h^{-1}g\in G_a\le H$. Therefore, $g=hh^{-1}g\in H$, as desired. Hence,  $G=H$.\\
    $\Leftarrow$\\
    Let $a\in A$. Suppose $B$ is a $G$-block in $A$ containing $a$. By Proposition 4.1, $G_B=\{\sigma\in G:\sigma(B)=B\}$ is a subgroup containing $G_a$. Since $G_a$ is a maximal subgroup, either $G_B=G_a$ or $G_B=G$. Suppose $G_B=G_a$.
    % Then for all $\sigma\in G\setminus G_B$, $\sigma(B)\cap B=\emptyset$. 
\end{proof}
\begin{lemma}Let $P$ be a transitive $p$-subgroup of Sym$(A)$ with $|A|>1$ and $\mathcal{B}$ be a minimal $P$-block system. Then \begin{enumerate}
    \item $|\mathcal{B}|=p$,
    \item the stabilizer of $\mathcal{B}$ in $P$, denoted $P'$, has index $p$ in $P$
\end{enumerate}\cite{luks1982}. 
\end{lemma}
\begin{proof}
    % Note $P'=\{\sigma\in P:\sigma(\mathcal{B})=\mathcal{B}\}$ where $\sigma(\mathcal{B})=\{\sigma(B):B\in\mathcal{B}\}$. 
    The action of $P$ on $A$ induces an action on $\mathcal{B}$. Then there exist homomorphism $\phi:P\rightarrow\Sym(\mathcal{B})$, where $\ker\phi=P'$. By the First Isomorphism Theorem, \[P/P'\cong\im(\phi)\subseteq\Sym(\mathcal{B}).\]
    Identifying $P/P'$ with $\im(\phi)$, since $\mathcal{B}$ is a minimal $P$-block system, $P/P'$ acts primitively on the blocks. By Proposition~\ref{prop:prop42}, for all $B\in\mathcal{B}$, $P/P'_B=\{\sigma P'\in P/P':\sigma P'(B)=B\}$ is a maximal subgroup of $P$. Note that all maximal subgroups of a finite $p$-group have index $p$ and are normal, so for all $B\in\mathcal{B}$, $|P/P_B|=p$.
    Note any permutation group is primitive if and only if it is transtive and its point stabililzer is a maximal subgroup. Moreover, all maximal subgroups of a finite p-group have index $p$ and are normal.  Thus, any primitive $p$-subgroup of $\Sym(\mathcal{B})$ has order $p$ and acts regularly on $\mathcal{B}$. Hence, $|\mathcal{B}|=|P/P'|=$ the number of blocks $=p$.(Professor Derek Holt on Stack Exchange https://math.stackexchange.com/questions/2912055/question-about-lemma-on-primitive-groups )
% We show $P/P'$ is a primitive $p$-group acting on the blocks. For a contradiction, suppose $P/P'$ is not primitive. Then 
\end{proof}
% Lemma 4.1 is presented in \cite{luks1982} in support of  Color Automorphism Problem
% The following theorem is the main result of \cite{luks1982}. 
% \begin{definition}
%     Given a set of generators for a group $G$ of permutations of a colored set $A$, the \textit{Color Automorphism Problem} for $G$ involves finding generators for the subgroup of $G$ which stabilizes the color classes.
% \end{definition}

% \begin{definition}
% NEED stabilize, transitive, G-block, primitive
% \end{definition}
